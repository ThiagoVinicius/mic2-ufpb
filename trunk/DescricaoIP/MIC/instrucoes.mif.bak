
%  multiple-line comment  

multiple-line comment  %      

-- single-line comment

DEPTH = 512;                   -- The size of data in bits
WIDTH = 39;                   -- The size of memory in words
ADDRESS_RADIX = BIN;          -- The radix for address values
DATA_RADIX = BIN;             -- The radix for data values
CONTENT                       -- start of (address : data pairs)
BEGIN

-- O arquivo gerado do programa Java tem que esta nesse formato
-- os 9 bits de endereco (MPC) : os 32 bits da micro instrucao


000011111 : 000000000000000000000000000000000000000;
000011101 : 000000000000000000000000000000000000000;       --11101
000011100 : 010010010010111111000000001000000000000;        --11100    if_eq6  010010010 010 111111 00 0000 001 000000000 000 		Z=OPC-H;if(Z)GOTO F; else GOTO T
000011011 : 000011100000011000001010000000000100000;	       --11011    if_eq5  000011100 000 011000 00 1010 000 000000100 000 		TOS=MDR
000011010 : 000011011000011000000010000000000010000;	       --11010    if_eq4  000011011 000 011000 00 0010 000 000000010 000 		OPC=TOS
000011001 : 000011010000011000001010000000000001010;	       --11001    if_eq3  000011010 000 011000 00 1010 000 000000001 010 		H=MDR;rd
000011000 : 000011001000110110000001101100100000000;	       --11000    if_eq2  000011001 000 110110 00 0001 101 100100000 000 		MAR = SP =SP-1
000010111 : 000011000000110110000001101100100000010;	       --10111    if_eq1  000011000 000 110110 00 0001 101 100100000 010	 	MAR = SP =SP-1; rd
	
000010110 : 000000001000110101000001000001000000001;  	   --10110 	goto5  000000001 000 110101 00 0001 000 001000000 001       PC=OPC+H;fetch;GOTO(MBR1)
000010101 : 000010110000011100001001000000000001000;	       --10101 	goto4  000010110 000 011100 00 1001 000 000000001 000		H=MBRU OR H;
000010100 : 000010101000011000011000110000000001000;	       --10100 	goto3  000010101 000 011000 01 1000 110 000000001 000		H=MBR<<8;
000010011 : 000010100000110101000001110001000000001;	       --10011 	goto2  000010100 000 110101 00 0001 110 001000000 001       PC=PC+1;FETCH
000010010 : 000010011000110110000000110000000010000;	       --10010 	goto1  000010011 000 110110 00 0000 110 000000010 000       OPC=PC-1;
	
000010001 : 000000010000111001000101100100100000100;	       --10001	    lnext6 	000000010 000 111001 00 0101 100 100100000 100      MAR = SP =SP+1; rw;goto(MBR2)
000010000 : 000010001000011000001010100000000100000;	       --10000	    lnext5 	000010001 000 011000 00 1010 100 000000100 000      TOS = MDR
000001111 : 000010000000110101000001110001000000001;	       --01111    	lnext4  000010000 000 110101 00 0001 110 001000000 001  	PC=PC+1;FETCH
000001110 : 000001111000111100001000100100000000010;	       --01110	    lnext3 	000001111 000 111100 00 1000 100 100000000 010   	MAR = LV+MBRU RD
000001101 : 000001110000000000000001111000000000000;	       --01101		lnext2  000001110 000 000000 00 0001 111 000000000 000   	NOP
000001101 : 000001101000110101000001110001000000001;	       --01100		lnext1 	000001101 000 110101 00 0001 110 001000000 001    	PC= PC + 1; FETCH

000001011 : 000000000000001100000000111010000100100;	       --01011		iand3 	000000000 000 001100 00 0000 111 010000100 100		MDR=TOS=MDR AND H;wr;goto(MAIN)
000001010 : 000001011000011000000010000000000001000;	       --01010  	iand2 	000001011 000 011000 00 0010 000 000000001 000		H=TOS
000001001 : 000001010000110110000000101100100000010;	       --01001  	iand1 	000001010 000 110110 00 0000 101 100100000 010		MAR=SP=SP-1;rd	
	
000001000 : 000000000000111111000000111010000100100;	       --01000   	isub3 	000000000 000 111111 00 0000 111 010000100 100      MDR=TOS=MDR-H;wr;goto(MAIN)
000000111 : 000001000000011000000010000000000001000;	       --00111   	isub2 	000001000 000 011000 00 0010 000 000000001 000      H=TOS
000000110 : 000000111000110110000000101100100000010;	       --00110   	isub1 	000000111 000 110110 00 0000 101 100100000 010      MAR=SP=SP-1;rd
	
000000101 : 000000000000111100001010000010000100100;	       --00101   	iadd3 	000000000 000 111100 00 1010 000 010000100 100		MDR=TOS=MDR+H;wr;goto(MAIN)
000000100 : 000000101000011000000010000000000001000;	       --00100   	iadd2 	000000101 000 011000 00 0010 000 000000001 000		H=TOS
000000011 : 000000100000110110000000101100100000010;	       --00011		iadd1 	000000100 000 110110 00 0000 101 100100000 010 		MAR=SP=SP-1;rd

000000010 : 000000000001000000000001001000000000000;	       --00010		MBR2  	000000000 001 000000 00 0001 001 000000000 000   	GOTO(MBR)
000000001 : 000000010000000000000001111000000000000;	       --00001		MBR1  	000000010 000 000000 00 0001 111 000000000 000   	NOP
000000000 : 000000001000110101000001110001000000001; 	       --00000		MAIN  	000000001 000 110101 00 0001 110 001000000 001   	PC =PC+1;FETCH*

END;